
# Process vs Thread

>## 1. 定義
>
>- **Process（進程）**：進程是正在執行的應用程序的一個實例。它包含應用程序的代碼、數據、資源和一個或多個執行線程。進程有自己的獨立地址空間。
>
>- **Thread（線程）**：線程是進程中的一個執行單元，線程與進程共享相同的資源（如地址空間、文件描述符等），但每個線程有自己的堆棧和寄存器。
>
>## 2. 資源分配
>
>- **Process（進程）**：每個進程有獨立的資源分配，具有獨立的地址空間，擁有自己的全局變量、代碼段、堆和棧。進程之間的通信需要通過進程間通信（IPC）機制來完成，如管道、共享內存等。
>
>- **Thread（線程）**：線程共享進程的資源，同一個進程內的多個線程共享相同的地址空間、全局變量、堆等。線程之間的通信更高效，因為它們共享內存，不需要 IPC。
>
>## 3. 執行單位
>
>- **Process（進程）**：進程是操作系統資源分配的基本單位，它是應用程序運行的實例，包含至少一個線程（通常是主線程）。
>
>- **Thread（線程）**：線程是 CPU 調度的基本單位。一個進程可以包含多個線程，每個線程可以獨立地執行。
>
>## 4. 開銷
>
>- **Process（進程）**：創建進程的開銷相對較大，因為操作系統需要為進程分配內存、資源等。進程間切換（Context Switch）的開銷也較大，因為需要切換地址空間。
>
>- **Thread（線程）**：創建線程的開銷較小，線程之間的切換開銷也較小，因為線程共享進程的資源，不需要切換地址空間。
>
>## 5. 通信方式
>
>- **Process（進程）**：由於進程擁有獨立的地址空間，進程之間的通信必須依賴 IPC 機制，如共享內存、管道、消息隊列等，通信相對較慢。
>
>- **Thread（線程）**：線程共享同一個地址空間，因此可以通過共享內存直接進行通信，不需要使用複雜的 IPC 機制，通信效率更高。
>
>## 6. 崩潰影響
>
>- **Process（進程）**：一個進程的崩潰通常不會影響其他進程，因為進程之間是相互隔離的。
>
>- **Thread（線程）**：由於線程共享同一個地址空間，如果一個線程崩潰，可能會影響整個進程，導致進程中的所有線程失敗。
>
>## 7. 例子
>
>- **Process（進程）**：瀏覽器、文字處理器、音樂播放器等應用程序本身就是一個個進程。
>
>- **Thread（線程）**：在一個瀏覽器進程中，可以有多個線程執行不同的任務，例如一個線程處理頁面渲染，另一個線程處理用戶輸入。
>
>---
>
>## 總結
>
>- **進程**是操作系統資源分配的基本單位，擁有自己的地址空間，創建和切換開銷較大，通信效率相對較低。
>- **線程**是 CPU 調度的基本單位，同一個進程內的線程共享資源，創建和切換開銷較小，通信效率高。
>
>進程和線程的選擇取決於應用程序的需求。如果需要高度隔離和可靠性，應使用進程。如果需要高效的通信和並行運行，應使用線程。
